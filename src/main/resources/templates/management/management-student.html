<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">

<head>
    <!-- Standard Meta -->
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">

    <!-- Site Properties -->
    <title>双创项目管理 - 项目管理</title>
    <link rel="icon" type="image/x-icon" href="img/icon.png" th:href="@{/img/icon.png}"/>
    <link rel="stylesheet" type="text/css" href="dist/semantic.min.css" th:href="@{/dist/semantic.min.css}">
    <script src="js/jquery-3.5.1.min.js" th:src="@{/js/jquery-3.5.1.min.js}"></script>
    <script src="dist/semantic.min.js" th:src="@{/dist/semantic.min.js}"></script>

    <!-- Site Specified Style and Script -->
    <link rel="stylesheet" type="text/css" href="css/common.css" th:href="@{/css/common.css}">
    <script src="js/common.js" th:src="@{/js/common.js}"></script>
</head>

<body>
<div th:replace="common::common_header"></div>

<div class="ui main container">
    <div class="ui grid">
        <div class="ui four wide column">
            <div th:replace="common::common_menu(3)"></div>
        </div>
        <div class="ui twelve wide column">

            <h1 class="ui header">项目管理</h1>
            <div th:each="project:${projects}"class="ui container">

                <div class="ui top attached block header">
                    <div class="ui middle aligned two column centered grid">
                        <div class="left floated column">
                            <h3 class="ui header" th:text="${project.name}"></h3>
                        </div>
                        <div class="right floated column">
                            <a th:href="'/delete/' + ${project.pid}">
                                <button class="ui gray right floated button"><i class="trash alternate icon"></i>删除</button>
                            </a>
                            <a th:href="'/project/' + ${project.pid}">
                                <button class="ui gray right floated button"><i class="edit icon"></i>修改</button>
                            </a>
                            <button class="ui detail gray right floated button"><i class="info icon"></i>详情</button>
                        </div>
                    </div>
                </div>
                <div class="ui mid attached segment">
                    <div class="ui grid">
                        <div class="ui ten wide column">
                            <p th:text="${project.profile}"></p>
                        </div>
                        <div class="ui six wide column">
                            <h5 class="ui header">项目导师</h5>
                            <p th:text="${project.tutors}" class="right aligned"></p>
                            <h5 class="ui header">项目成员</h5>
                            <p th:text="${project.teammates}" class="right aligned"></p>
                        </div>
                    </div>
                </div>
                <div class="ui project detail attached segment">
                    <div class="ui comments">
                        <div class="comment">
                            <a class="avatar"><img src="/img/head1.png" th:src="@{/img/head_tutor.png}" alt="Avatar"></a>
                            <div class="content">
                                <a class="author">导师评论</a>
                                <div class="metadata">
                                    <div class="rating" th:if="${project.score}==-1">
                                        <i class="percent icon"></i>暂无评分
                                    </div>
                                    <div class="rating" th:unless="${project.score}==-1" th:text="${project.score} + ' 分'">
                                        <i class="percent icon"></i>
                                    </div>
                                </div>
                                <div class="text" th:if="${project.comment}==''" th:text="'暂无评论'"></div>
                                <div class="text" th:unless="${project.comment}==''" th:text="${project.comment}"></div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="ui project detail three bottom attached steps">

                    <div th:if="${project.progress.name()}=='DRAFT'" class="active step">
                        <i class="lightbulb icon"></i>
                        <div class="content">
                            <div class="title">立项</div>
                            <div class="description">立项初审阶段</div>
                        </div>
                    </div>
                    <div th:if="${project.progress.name()}=='DRAFT'" class="disabled step">
                        <i class="wrench icon"></i>
                        <div class="content">
                            <div class="title">中期</div>
                            <div class="description">中期答辩阶段</div>
                        </div>
                    </div>
                    <div th:if="${project.progress.name()}=='DRAFT'" class="disabled step">
                        <i class="flag icon"></i>
                        <div class="content">
                            <div class="title">终期</div>
                            <div class="description">结项终审打分</div>
                        </div>
                    </div>

                    <div th:if="${project.progress.name()}=='INIT_REVIEWING'" class="active step">
                        <i class="lightbulb icon"></i>
                        <div class="content"><div class="title">立项</div><div class="description">立项初审阶段</div></div>
                    </div>
                    <div th:if="${project.progress.name()}=='INIT_REVIEWING'" class="disabled step">
                        <i class="wrench icon"></i>
                        <div class="content"><div class="title">中期</div><div class="description">中期答辩阶段</div></div>
                    </div>
                    <div th:if="${project.progress.name()}=='INIT_REVIEWING'" class="disabled step">
                        <i class="flag icon"></i>
                        <div class="content"><div class="title">终期</div><div class="description">结项终审打分</div></div>
                    </div>

                    <div th:if="${project.progress.name()}=='INIT_REVIEWED'" class="active step">
                        <i class="lightbulb icon"></i>
                        <div class="content"><div class="title">立项</div><div class="description">立项初审阶段</div></div>
                    </div>
                    <div th:if="${project.progress.name()}=='INIT_REVIEWED'" class="disabled step">
                        <i class="wrench icon"></i>
                        <div class="content"><div class="title">中期</div><div class="description">中期答辩阶段</div></div>
                    </div>
                    <div th:if="${project.progress.name()}=='INIT_REVIEWED'" class="disabled step">
                        <i class="flag icon"></i>
                        <div class="content"><div class="title">终期</div><div class="description">结项终审打分</div></div>
                    </div>

                    <div th:if="${project.progress.name()}=='MIDTERM_REVIEWING'" class="step">
                        <i class="green check circle outline icon"></i>
                        <div class="content"><div class="title">立项</div><div class="description">立项初审阶段</div></div>
                    </div>
                    <div th:if="${project.progress.name()}=='MIDTERM_REVIEWING'" class="active step">
                        <i class="wrench icon"></i>
                        <div class="content"><div class="title">中期</div><div class="description">中期答辩阶段</div></div>
                    </div>
                    <div th:if="${project.progress.name()}=='MIDTERM_REVIEWING'" class="disabled step">
                        <i class="flag icon"></i>
                        <div class="content"><div class="title">终期</div><div class="description">结项终审打分</div></div>
                    </div>

                    <div th:if="${project.progress.name()}=='MIDTERM_REVIEWED'" class="step">
                        <i class="green check circle outline icon"></i>
                        <div class="content"><div class="title">立项</div><div class="description">立项初审阶段</div></div>
                    </div>
                    <div th:if="${project.progress.name()}=='MIDTERM_REVIEWED'" class="active step">
                        <i class="wrench icon"></i>
                        <div class="content"><div class="title">中期</div><div class="description">中期答辩阶段</div></div>
                    </div>
                    <div th:if="${project.progress.name()}=='MIDTERM_REVIEWED'" class="disabled step">
                        <i class="flag icon"></i>
                        <div class="content"><div class="title">终期</div><div class="description">结项终审打分</div></div>
                    </div>

                    <div th:if="${project.progress.name()}=='FINAL_REVIEWING'" class="step">
                        <i class="green check circle outline icon"></i>
                        <div class="content"><div class="title">立项</div><div class="description">立项初审阶段</div></div>
                    </div>
                    <div th:if="${project.progress.name()}=='FINAL_REVIEWING'" class="step">
                        <i class="green check circle outline icon"></i>
                        <div class="content"><div class="title">中期</div><div class="description">中期答辩阶段</div></div>
                    </div>
                    <div th:if="${project.progress.name()}=='FINAL_REVIEWING'" class="active step">
                        <i class="flag icon"></i>
                        <div class="content"><div class="title">终期</div><div class="description">结项终审打分</div></div>
                    </div>

                    <div th:if="${project.progress.name()}=='FINAL_REVIEWED'" class="step">
                        <i class="green check circle outline icon"></i>
                        <div class="content"><div class="title">立项</div><div class="description">立项初审阶段</div></div>
                    </div>
                    <div th:if="${project.progress.name()}=='FINAL_REVIEWED'" class="step">
                        <i class="green check circle outline icon"></i>
                        <div class="content"><div class="title">中期</div><div class="description">中期答辩阶段</div></div>
                    </div>
                    <div th:if="${project.progress.name()}=='FINAL_REVIEWED'" class="active step">
                        <i class="flag icon"></i>
                        <div class="content"><div class="title">终期</div><div class="description">结项终审打分</div></div>
                    </div>

                    <div th:if="${project.progress.name()}=='TERMINATED'" class="disabled step">
                        <i class="close icon"></i>
                        <div class="content"><div class="title">立项</div><div class="description">立项初审阶段</div></div>
                    </div>
                    <div th:if="${project.progress.name()}=='TERMINATED'" class="disabled step">
                        <i class="close icon"></i>
                        <div class="content"><div class="title">中期</div><div class="description">中期答辩阶段</div></div>
                    </div>
                    <div th:if="${project.progress.name()}=='TERMINATED'" class="disabled step">
                        <i class="close icon"></i>
                        <div class="content"><div class="title">终期</div><div class="description">结项终审打分</div></div>
                    </div>
                </div>
                <br><br>
            </div>

        </div>
    </div>
</div>

<div th:replace="common::common_footer"></div>
</body>

</html>
